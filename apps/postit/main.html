<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Postit</title>
  <link rel="stylesheet" href="/postit/styles/jquery-ui.css">
  <script src="/postit/scripts/jquery.js"></script>
  <script src="/postit/scripts/jquery-ui.js"></script>
  <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/angular_material/1.1.0-rc4/angular-material.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-animate.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-aria.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-messages.min.js"></script>
  <!-- Angular Material Library -->
  <script src="http://ajax.googleapis.com/ajax/libs/angular_material/1.1.0-rc4/angular-material.min.js"></script>
  <style>
    body, html { height: 100%; }
    .draggable { width: 150px; height: 150px; padding: 0.5em; border: 1px solid}
    fieldset { padding:0; border:0; margin-top:25px; }
    div.note label, input { display:block; }
    div.face label, select { display:inline; }
  </style>
</head>
<body>
  <div id="control" style="float: left; width: 10%;">
    <div id="postits" style="float: right; width: 90%; height: 100%;">
      <div ng-app="posts" ng-controller="postsCtrl" ng-cloak>
	<div ng-repeat="post in posts" class="draggable">
	  <div>State {{post.state.name}}</div>
	  <div>{{post.note}}</div>
	  <div>Created by {{post.user.username}}</div>
	  <div>Created at {{post.creationDate | date:'medium'}}</div>
	</div>
      </div>
    </div>
    
    <div id="dialog" title="New">
      <form action="#">
	<fieldset>
	  <div style="width: 100%; position: relative;">
	    <div class="note" style="float:left; width: 70%;">
	      <label for="note">Note</label>
	      <input type="hidden" name="id" id="note_id"/>
	      <textarea id="note" name="note"
		        class="text" cols="30" rows="10"></textarea>
	      <input type="submit" tabindex="-1" class="postit"
		     style="position:absolute; top:-1000px">
	    </div>
	  </div>
	</fieldset>
      </form>
    </div>
    <button id="new-postit">Create</button>
  </div>
  <script><!--
angular.module('posts', ['ngMaterial', 'ngMessages'])
  .controller('postsCtrl', function($scope, $http) {
    $http.get("/postit/load-postit")
         .then(
            function(response) {
	      $scope.posts = response.data;
	    },
            function(response) {
	      $scope.posts = [];
	    }
          )
});
--></script>
</body>
</html>

